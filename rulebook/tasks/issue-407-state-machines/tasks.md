## 1. Implementation
- [ ] 1.1 Inventory core state machines (Job/Plan/Run/UploadSession/Worker)
- [ ] 1.2 Extract actual states + transition logic from code (with pointers)
- [ ] 1.3 Draft Mermaid diagrams + transition condition notes
- [ ] 1.4 Validate for dead states/locks + document findings/suggestions
- [ ] 1.5 Write canonical OpenSpec documentation under `openspec/specs/`

## 2. Testing
- [ ] 2.1 Run `ruff check .`
- [ ] 2.2 Run `pytest -q`

## 3. Documentation
- [ ] 3.1 Add/refresh docs pointer (if needed) to the canonical OpenSpec doc
- [ ] 3.2 Update `openspec/_ops/task_runs/ISSUE-407.md` with evidence + PR link
