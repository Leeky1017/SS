{
  "summary": {
    "total_files": 309,
    "passed_files": 2,
    "failed_files": 307,
    "total_critical": 2769,
    "total_high": 1088,
    "total_warnings": 0,
    "pass_rate": "0.6%"
  },
  "results": [
    {
      "file": "tasks\\do\\T01_desc_overview.do",
      "passed": true,
      "critical_count": 0,
      "warning_count": 0,
      "issues": []
    },
    {
      "file": "tasks\\do\\T02_desc_by_group.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T03_filter_and_sample.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T04_merge_datasets.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T05_append_datasets.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T06_reshape_wide_long.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T07_summary_numeric.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T08_freq_categorical.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T09_corr_matrix.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T10_distribution_plots.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到8个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T11_scatter_matrix.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到6个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T12_ttest_one_sample.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T13_ttest_two_sample_indep.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T14_ttest_paired.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T15_anova_oneway.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T16_chi_square_independence.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T17_ols_simple.do",
      "passed": true,
      "critical_count": 0,
      "warning_count": 0,
      "issues": []
    },
    {
      "file": "tasks\\do\\T18_ols_multiple.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T19_ols_robust_se.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T20_ols_cluster_se.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T21_ols_with_interaction.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T22_ols_fe_entity_dummies.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T23_ols_time_dummies.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T24_ols_model_comparison.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T25_logit_binary.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T26_probit_binary.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T27_ologit_ordered.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T28_mlogit_multinomial.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T29_poisson_count.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T30_panel_setup_check.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 264,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture {",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T31_panel_fe_basic.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T32_panel_re_basic.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T33_panel_fe_re_hausman.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T34_diff_in_diff_2x2.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T35_diff_in_diff_event_study.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 311,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop et_*",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T36_ts_diagnostics_plots.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T37_ts_unit_root_adf.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T38_ts_arima_estimation.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T39_ts_forecast_horizon.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T40_var_two_series_basic.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T41_survival_km_curve.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T42_survival_logrank_test.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T43_survival_cox_basic.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T44_survival_cox_time_varying.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T45_pca_principal_components.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到6个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T46_factor_analysis.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 234,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop f1 f2 f3",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T47_kmeans_clustering.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T48_hierarchical_clustering.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T49_auto_analysis_report.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到5个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\T50_export_outputs_bundle.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到20个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 18,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 50,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture mkdir \"outputs\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA01_winsorize.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 195,
          "message": "社区命令'winsor2'未经SS_DEP_CHECK检测",
          "context": "winsor2 `var', cuts(`lower_pctl' `upper_pctl') trim by(`by_v",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=winsor2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 198,
          "message": "社区命令'winsor2'未经SS_DEP_CHECK检测",
          "context": "winsor2 `var', cuts(`lower_pctl' `upper_pctl') by(`by_var') ",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=winsor2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 204,
          "message": "社区命令'winsor2'未经SS_DEP_CHECK检测",
          "context": "winsor2 `var', cuts(`lower_pctl' `upper_pctl') trim replace",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=winsor2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 207,
          "message": "社区命令'winsor2'未经SS_DEP_CHECK检测",
          "context": "winsor2 `var', cuts(`lower_pctl' `upper_pctl') replace",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=winsor2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 258,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_winsor_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA02_standardize.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 237,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_transform_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA03_mi_impute.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 260,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_missing_pattern.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 261,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_impute_diag.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA04_outlier_detect.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 331,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_outlier_summary.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 332,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_outlier_details.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA05_var_generate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 287,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_newvar_summary.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA06_panel_balance.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA07_string_process.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 268,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_string_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA08_datetime_process.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 204,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_year",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 211,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_month",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 218,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_day",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 225,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_quarter",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 232,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_dow",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 244,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_diff",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 261,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_y`y'",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 271,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_q`q'",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 312,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_datetime_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA09_quantile_groups.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 284,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_group_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA10_dummy_generate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 273,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_dummy_codebook.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA11_dedup_check.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到5个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 130,
          "message": "社区命令'distinct'未经SS_DEP_CHECK检测",
          "context": "distinct `valid_keys'",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=distinct|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 315,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_dup_summary.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA12_label_manage.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到6个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 134,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_labels.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA13_stratified_sample.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 261,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_strata_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TA14_data_quality.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 104,
          "message": "社区命令'mdesc'未经SS_DEP_CHECK检测",
          "context": "mdesc `check_vars'",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=mdesc|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 316,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_var_diagnostics.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 317,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_issues.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB01_group_desc_table.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 110,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_group_desc.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB02_normality_test.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 20,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 106,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_normality.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB03_percentile_table.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 20,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 88,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_percentiles.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB04_trend_line.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB05_group_mean_trend.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB06_heatplot.do",
      "passed": false,
      "critical_count": 10,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "CRITICAL",
          "line": 51,
          "message": "社区命令'heatplot'不在白名单内",
          "context": "heatplot C, values(format(%4.2f)) color(hcl diverging, inten",
          "suggestion": "将heatplot添加到stata_dependencies.txt或使用白名单内的替代命令"
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB07_vioplot.do",
      "passed": false,
      "critical_count": 10,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "CRITICAL",
          "line": 49,
          "message": "社区命令'vioplot'不在白名单内",
          "context": "vioplot `var', over(`by_var') title(\"小提琴图: `var'\") ytitle(\"`",
          "suggestion": "将vioplot添加到stata_dependencies.txt或使用白名单内的替代命令"
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB08_kdensity_compare.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB09_spineplot.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TB10_bland_altman.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC01_twoway_anova.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC02_repeated_anova.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC03_kruskal_wallis.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC04_mann_whitney.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC05_wilcoxon_signed.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC06_fisher_exact.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC07_mcnemar.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC08_trend_test.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC09_normality_comprehensive.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 66,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_norm.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TC10_variance_homogeneity.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD01_twoway_fe.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 51,
          "message": "社区命令'reghdfe'未经SS_DEP_CHECK检测",
          "context": "reghdfe `depvar' `indepvars', absorb(`panelvar' `timevar') v",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=reghdfe|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD02_high_dim_fe.do",
      "passed": false,
      "critical_count": 10,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 50,
          "message": "社区命令'reghdfe'未经SS_DEP_CHECK检测",
          "context": "reghdfe `depvar' `indepvars', absorb(`absorb_vars') vce(robu",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=reghdfe|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "CRITICAL",
          "line": 56,
          "message": "社区命令'esttab'不在白名单内",
          "context": "esttab hdfe_model using \"table_TD02_hdfe.csv\", replace cells",
          "suggestion": "将esttab添加到stata_dependencies.txt或使用白名单内的替代命令"
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD03_wls.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD04_quantile_reg.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD05_robust_reg.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD06_stepwise.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD07_lasso.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD08_ridge.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD09_elastic_net.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD10_polynomial.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD11_spline.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TD12_bootstrap_se.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE01_zip.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE02_zinb.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE03_tobit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE04_heckman.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE05_twopm.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE06_oprobit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE07_clogit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE08_mixlogit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE09_nlogit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TE10_cloglog.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF01_xtcsd.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 42,
          "message": "社区命令'xtcsd'未经SS_DEP_CHECK检测",
          "context": "xtcsd, pesaran abs",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtcsd|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF02_xttest3.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 42,
          "message": "社区命令'xttest3'未经SS_DEP_CHECK检测",
          "context": "xttest3",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xttest3|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF03_xtserial.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF04_xtscc.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 52,
          "message": "社区命令'xtscc'未经SS_DEP_CHECK检测",
          "context": "xtscc `depvar' `indepvars', fe",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtscc|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF05_xtabond2_sys.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 52,
          "message": "社区命令'xtabond2'未经SS_DEP_CHECK检测",
          "context": "xtabond2 `depvar' L.`depvar' `indepvars', gmm(L.`depvar') iv",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtabond2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF06_xtabond.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF07_xthreg.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF08_xttobit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF09_xtlogit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF10_xtpoisson.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF11_xtnbreg.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF12_xtmixed.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF13_xtfmb.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 52,
          "message": "社区命令'xtfmb'未经SS_DEP_CHECK检测",
          "context": "xtfmb `depvar' `indepvars'",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtfmb|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TF14_pvar.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG01_pscore_estimate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 331,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_balance_before.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 332,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_pscore_model.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG02_psm_match.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 137,
          "message": "社区命令'psmatch2'未经SS_DEP_CHECK检测",
          "context": "psmatch2 `treatment_var' `valid_covariates', outcome(`outcom",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=psmatch2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 281,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_balance_after.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG03_ipw_weight.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 320,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_weight_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 321,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_balance_weighted.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG04_psm_strata.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 273,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_strata_effects.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 274,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_strata_balance.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG05_cem_match.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 135,
          "message": "社区命令'cem'未经SS_DEP_CHECK检测",
          "context": "cem `valid_match_vars', treatment(`treatment_var')",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=cem|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 281,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_cem_balance.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG06_mahal_match.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 126,
          "message": "社区命令'psmatch2'未经SS_DEP_CHECK检测",
          "context": "psmatch2 `treatment_var', outcome(`outcome_var') `match_opts",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=psmatch2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 236,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_mahal_balance.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG07_psm_balance.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 289,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_balance_stats.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 290,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_balance_detail.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG08_psm_sensitivity.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 280,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_sensitivity.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG09_rdd_sharp.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到5个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 177,
          "message": "社区命令'rdrobust'未经SS_DEP_CHECK检测",
          "context": "rdrobust `outcome_var' `running_var', c(`cutoff') h(`bandwid",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=rdrobust|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 251,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture rdplot `outcome_var' `running_var', c(`cutoff') p(`p",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG10_rdd_fuzzy.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 120,
          "message": "社区命令'rdrobust'未经SS_DEP_CHECK检测",
          "context": "rdrobust `treatment_var' `running_var', c(`cutoff')",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=rdrobust|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 167,
          "message": "社区命令'rdrobust'未经SS_DEP_CHECK检测",
          "context": "rdrobust `outcome_var' `running_var', c(`cutoff') fuzzy(`tre",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=rdrobust|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG11_rdd_bandwidth.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 212,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_bandwidth_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 213,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_sensitivity.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG12_rdd_density.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 111,
          "message": "社区命令'rddensity'未经SS_DEP_CHECK检测",
          "context": "rddensity `running_var', c(`cutoff')",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=rddensity|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 182,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture rddensity `running_var', c(`cutoff') plot ///",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG13_iv_2sls.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 204,
          "message": "社区命令'ivreg2'未经SS_DEP_CHECK检测",
          "context": "ivreg2 `dep_var' `valid_exog' (`endog_var' = `valid_instrume",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=ivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 207,
          "message": "社区命令'ivreg2'未经SS_DEP_CHECK检测",
          "context": "ivreg2 `dep_var' `valid_exog' (`endog_var' = `valid_instrume",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=ivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 323,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_first_stage.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 324,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_2sls_result.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG14_iv_weak_test.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 113,
          "message": "社区命令'ivreg2'未经SS_DEP_CHECK检测",
          "context": "ivreg2 `dep_var' `valid_exog' (`endog_var' = `valid_instrume",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=ivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG15_iv_overid.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 133,
          "message": "社区命令'ivreg2'未经SS_DEP_CHECK检测",
          "context": "ivreg2 `dep_var' `valid_exog' (`endog_var' = `valid_instrume",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=ivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG16_panel_iv.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 145,
          "message": "社区命令'xtivreg2'未经SS_DEP_CHECK检测",
          "context": "xtivreg2 `dep_var' `valid_exog' (`endog_var' = `valid_instru",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 149,
          "message": "社区命令'xtivreg2'未经SS_DEP_CHECK检测",
          "context": "xtivreg2 `dep_var' `valid_exog' (`endog_var' = `valid_instru",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 157,
          "message": "社区命令'xtivreg2'未经SS_DEP_CHECK检测",
          "context": "xtivreg2 `dep_var' `valid_exog' (`endog_var' = `valid_instru",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 264,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_panel_iv.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG17_scm_synth.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 175,
          "message": "社区命令'synth'未经SS_DEP_CHECK检测",
          "context": "synth `outcome_var' `pred_spec', ///",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=synth|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 242,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"synth_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG18_scm_placebo.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 175,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"synth_temp_`unit'.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 231,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"synth_time_`t'.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 315,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_placebo_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG19_did_basic.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 294,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_parallel.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 308,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_did_result.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG20_did_staggered.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 142,
          "message": "社区命令'csdid'未经SS_DEP_CHECK检测",
          "context": "csdid `outcome_var' `valid_controls', ivar(`id_var') time(`t",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=csdid|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 145,
          "message": "社区命令'csdid'未经SS_DEP_CHECK检测",
          "context": "csdid `outcome_var', ivar(`id_var') time(`time_var') gvar(`t",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=csdid|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 167,
          "message": "社区命令'csdid'未经SS_DEP_CHECK检测",
          "context": "csdid `outcome_var', ivar(`id_var') time(`time_var') gvar(`t",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=csdid|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 207,
          "message": "社区命令'csdid'未经SS_DEP_CHECK检测",
          "context": "csdid `outcome_var', ivar(`id_var') time(`time_var') gvar(`t",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=csdid|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 272,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_group_effects.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 273,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_event_study.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG21_did_parallel.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 293,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_pretrend_coefs.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG22_did_placebo.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 269,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_placebo.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG23_did_twfe.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 98,
          "message": "社区命令'reghdfe'未经SS_DEP_CHECK检测",
          "context": "reghdfe `outcome_var' `treat_var', absorb(`id_var' `time_var",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=reghdfe|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 122,
          "message": "社区命令'did_multiplegt'未经SS_DEP_CHECK检测",
          "context": "did_multiplegt `outcome_var' `id_var' `time_var' `treat_var'",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=did_multiplegt|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 270,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop _ever_treated _first_treat first_treat_time",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG24_late_estimate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 173,
          "message": "社区命令'ivreg2'未经SS_DEP_CHECK检测",
          "context": "ivreg2 `outcome_var' `valid_covariates' (`treatment_var' = `",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=ivreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 268,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_complier_chars.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TG25_mte_estimate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到5个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 202,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop y1_hat y0_hat",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 284,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_mte_curve.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH01_dfgls.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 40,
          "message": "社区命令'dfgls'未经SS_DEP_CHECK检测",
          "context": "dfgls `var', maxlag(`maxlag')",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=dfgls|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH02_kpss.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 50,
          "message": "社区命令'kpss'未经SS_DEP_CHECK检测",
          "context": "kpss `var'",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=kpss|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH03_zandrews.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 50,
          "message": "社区命令'zandrews'未经SS_DEP_CHECK检测",
          "context": "zandrews `var', break(both)",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=zandrews|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH04_sarima.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH05_garch.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH06_egarch.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH07_gjr_garch.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH08_mgarch_dcc.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH09_vecrank.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH10_vec.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH11_irf.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH12_fevd.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH13_vargranger.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH14_rolling.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 52,
          "message": "社区命令'asreg'未经SS_DEP_CHECK检测",
          "context": "asreg `depvar' `indepvars', window(`window') se",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=asreg|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TH15_sspace.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI01_streg_weibull.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI02_streg_exp.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI03_aft.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI04_stcrreg.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI05_stcox_strata.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI06_phtest.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI07_shared_frailty.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI08_stsplit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI09_stcure.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI10_predict_surv.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TI11_stpower.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TJ01_cfa.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TJ02_sem.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TJ03_discrim.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TJ04_canon.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TJ05_mds.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TJ06_ca.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK01_capm_estimate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 265,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_capm_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 266,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_rolling_beta.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK02_fama_french.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 29,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 279,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_ff_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK03_event_study.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 29,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 304,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_daily_ar.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 305,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_car_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK04_garch_model.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 292,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_garch_params.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK05_var_calculate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 321,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_var_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK06_portfolio_optim.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 296,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_frontier.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK07_bond_duration.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK08_option_bs.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK09_implied_vol.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK10_credit_risk.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 302,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_coefs.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 303,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_roc.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK11_market_micro.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK12_copula_depend.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 194,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_tail.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK13_performance_attr.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 169,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_attribution.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK14_sharpe_sortino.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK15_momentum_factor.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 28,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 236,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_port_returns.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK16_value_factor.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 184,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_value_returns.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK17_size_factor.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 180,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_size_returns.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK18_liquidity_factor.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 180,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_liq_returns.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK19_beta_anomaly.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 212,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_beta_returns.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TK20_fama_macbeth.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 226,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_cs_coefs.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 227,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_fm_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL01_jones_model.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL02_mod_jones.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL03_kothari.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL04_dd_model.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL05_roychowdhury.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL06_ab_cfo.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL07_ab_prod.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL08_ab_disexp.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL09_beneish_mscore.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL10_fscore.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL11_altman_zscore.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL12_ohlson_oscore.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL13_audit_fee.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL14_gc_opinion.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TL15_icw.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM01_roc_analysis.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM02_diagnostic_test.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM03_kappa.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM04_icc.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM05_nnt.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM06_meta_analysis.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 50,
          "message": "社区命令'metan'未经SS_DEP_CHECK检测",
          "context": "metan `effect' `se', random label(namevar=`study') ///",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=metan|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM07_funnel_plot.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 49,
          "message": "社区命令'metafunnel'未经SS_DEP_CHECK检测",
          "context": "metafunnel `effect' `se', title(\"Funnel Plot\")",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=metafunnel|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 53,
          "message": "社区命令'metabias'未经SS_DEP_CHECK检测",
          "context": "metabias `effect' `se', egger",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=metabias|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM08_case_control.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM09_cohort_rr.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM10_matched_cc.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM11_incidence_rate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM12_stratified_analysis.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM13_log_binomial.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM14_poisson_rate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TM15_sample_size_clinical.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN01_spmatrix.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN02_moran_i.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN03_sar.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN04_sem.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN05_sdm.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN06_sac.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN07_slx.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN08_spatial_panel.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN09_direct_indirect.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TN10_lm_tests.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO01_esttab_html.do",
      "passed": false,
      "critical_count": 10,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "CRITICAL",
          "line": 54,
          "message": "社区命令'esttab'不在白名单内",
          "context": "esttab m1 m2 using \"table_TO01_reg.html\", replace html ///",
          "suggestion": "将esttab添加到stata_dependencies.txt或使用白名单内的替代命令"
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO02_esttab_latex.do",
      "passed": false,
      "critical_count": 10,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "CRITICAL",
          "line": 52,
          "message": "社区命令'esttab'不在白名单内",
          "context": "esttab m1 using \"table_TO02_reg.tex\", replace booktabs ///",
          "suggestion": "将esttab添加到stata_dependencies.txt或使用白名单内的替代命令"
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO03_esttab_word.do",
      "passed": false,
      "critical_count": 10,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "CRITICAL",
          "line": 52,
          "message": "社区命令'esttab'不在白名单内",
          "context": "esttab m1 using \"table_TO03_reg.rtf\", replace rtf ///",
          "suggestion": "将esttab添加到stata_dependencies.txt或使用白名单内的替代命令"
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO04_putexcel.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到8个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO05_asdoc.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 49,
          "message": "社区命令'asdoc'未经SS_DEP_CHECK检测",
          "context": "asdoc regress `depvar' `indepvars', save(table_TO05_asdoc.do",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=asdoc|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO06_outreg2.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到1个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 50,
          "message": "社区命令'outreg2'未经SS_DEP_CHECK检测",
          "context": "outreg2 using \"table_TO06_compare.doc\", replace ctitle(OLS) ",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=outreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 53,
          "message": "社区命令'outreg2'未经SS_DEP_CHECK检测",
          "context": "outreg2 using \"table_TO06_compare.doc\", append ctitle(Robust",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=outreg2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO07_graph_export.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TO08_table1.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 13,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP01_panel_fe.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 227,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_fe_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP02_panel_re.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 188,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_re_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP03_panel_gmm.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 122,
          "message": "社区命令'xtabond2'未经SS_DEP_CHECK检测",
          "context": "xtabond2 `depvar' `lag_depvars' `valid_indep', gmm(L.`depvar",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtabond2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-020",
          "severity": "HIGH",
          "line": 126,
          "message": "社区命令'xtabond2'未经SS_DEP_CHECK检测",
          "context": "xtabond2 `depvar' `lag_depvars' `valid_indep', gmm(L.`depvar",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=xtabond2|source=ssc|status=ok\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 233,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_gmm_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP04_panel_cluster.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 190,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_se_comparison.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 191,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_cluster_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP05_panel_serial.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP06_panel_hetero.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP07_panel_fgls.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 145,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_fgls_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP08_panel_pcse.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 147,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_pcse_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP09_panel_unit_root.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP10_panel_cointegration.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP11_svy_mean.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP12_svy_regress.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP13_svy_logit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP14_svy_poisson.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TP15_svy_tabulate.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ01_arima_model.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 27,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 190,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_arima_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ02_var_model.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 128,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture {",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 168,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"irf_results.irf\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 198,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_granger.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 199,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_var_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ03_vecm_model.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 166,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_vecm_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ04_adf_test.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ05_seasonal_decomp.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 196,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_season.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ06_hlm_2level.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ07_hlm_3level.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ08_random_slope.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ09_melogit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ10_mepoisson.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ11_cross_classified.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TQ12_growth_curve.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR01_spatial_weight.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR02_spatial_lag.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 226,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_sar_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR03_spatial_error.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 189,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture drop `var'_trans",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 302,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_sem_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR04_moran_test.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR05_spatial_panel.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 26,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 169,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture {",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 175,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture replace W_`depvar' = `wy' in `obs_i'",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 196,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture {",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 202,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture replace W_`var' = `wx' in `obs_i'",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 262,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_sp_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR06_bayes_regress.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR07_bayes_logit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR08_bayes_mixed.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR09_bayesgraph.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TR10_bayes_factor.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS01_lasso_reg.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 199,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_lasso_coef.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS02_ridge_reg.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 166,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_ridge_coef.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS03_elastic_net.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 169,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_enet_coef.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS04_random_forest.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 192,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_rf_importance.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS05_xgboost.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 25,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 204,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_xgb_importance.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS06_cross_valid.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 212,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_cv_folds.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS07_pca_analysis.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 203,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_eigenvalues.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 204,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_loadings.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS08_cluster_kmeans.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 185,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_elbow.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 186,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_centers.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS09_logit_classify.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到4个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 207,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_logit_results.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS10_model_compare.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 205,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_model_compare.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS11_gee_basic.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TS12_gee_logit.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 12,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TT01_text_clean.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TT02_word_freq.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TT03_sentiment.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TT04_ngram.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 174,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_ngram.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TT05_readability.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 20,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU01_histogram.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 24,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU02_scatter.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU03_boxplot.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU04_line_chart.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU05_bar_chart.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU06_heatmap.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU07_pie_chart.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU08_density.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到2个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 22,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU09_qq_plot.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 21,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    },
    {
      "file": "tasks\\do\\TU10_coef_plot.do",
      "passed": false,
      "critical_count": 9,
      "warning_count": 0,
      "issues": [
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: SS_TEMPLATE:",
          "context": "",
          "suggestion": "在文件头部添加 '* SS_TEMPLATE:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: INPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* INPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: OUTPUTS:",
          "context": "",
          "suggestion": "在文件头部添加 '* OUTPUTS:' 声明区"
        },
        {
          "rule_id": "RULE-010",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少头部声明字段: DEPENDENCIES:",
          "context": "",
          "suggestion": "在文件头部添加 '* DEPENDENCIES:' 声明区"
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_START，应升级到SS_TASK_BEGIN|id=...|level=...|title=...",
          "context": "",
          "suggestion": "display \"SS_TASK_BEGIN|id=Txxx|level=L0|title=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "HIGH",
          "line": 0,
          "message": "使用旧格式SS_TASK_END:SUCCESS/FAILED，应升级到SS_TASK_END|id=...|status=...|elapsed_sec=...",
          "context": "",
          "suggestion": "display \"SS_TASK_END|id=Txxx|status=ok|elapsed_sec=...\""
        },
        {
          "rule_id": "RULE-011",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少依赖检查锚点: SS_DEP_CHECK",
          "context": "",
          "suggestion": "添加 display \"SS_DEP_CHECK|pkg=stata|source=built-in|status=ok\""
        },
        {
          "rule_id": "RULE-012",
          "severity": "CRITICAL",
          "line": 0,
          "message": "步骤锚点不足: 需要至少3个SS_STEP_BEGIN，当前0个",
          "context": "",
          "suggestion": "添加 load/analysis/export 三个关键步骤的SS_STEP_BEGIN/END锚点"
        },
        {
          "rule_id": "RULE-013",
          "severity": "CRITICAL",
          "line": 0,
          "message": "指标锚点不足: 需要至少4个SS_METRIC，当前0个",
          "context": "",
          "suggestion": "添加 n_obs/n_missing/task_success/elapsed_sec 四个必需指标"
        },
        {
          "rule_id": "RULE-014",
          "severity": "CRITICAL",
          "line": 0,
          "message": "摘要锚点不足: 需要至少3个SS_SUMMARY，当前0个",
          "context": "",
          "suggestion": "添加至少3个 SS_SUMMARY|key=...|value=... 摘要行"
        },
        {
          "rule_id": "RULE-015",
          "severity": "CRITICAL",
          "line": 0,
          "message": "缺少输出声明: 检测到3个输出操作，但无SS_OUTPUT_FILE锚点",
          "context": "",
          "suggestion": "每个输出文件后添加 display \"SS_OUTPUT_FILE|file=xxx|type=table|desc=...\""
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 23,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture log close _all",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        },
        {
          "rule_id": "RULE-021",
          "severity": "HIGH",
          "line": 164,
          "message": "capture后未检查_rc（沉默失败）",
          "context": "capture erase \"temp_coef.dta\"",
          "suggestion": "capture后必须检查 if _rc 并输出 SS_RC|code=..."
        }
      ]
    }
  ]
}