# Do Library 扩展规划：300任务完整清单

**版本**: 2.0.0  
**创建时间**: 2024-12-12  
**更新时间**: 2025-12-16  
**目标**: 从现有50个任务扩展至300+（当前319），覆盖95%以上专业级Stata需求

---

## 一、扩展总览

> **2025-12-16 审计更新**：实际存在319个模板文件。部分模块实际内容与原规划不同，已更新为反映实际情况。

| 模块 | 规划 | 实际 | 状态 | 覆盖场景 |
|------|------|------|------|----------|
| A. 数据管理 (T01-T06, TA01-TA14) | 20 | 20 | ✅ | 数据清洗、转换、合并 |
| B. 描述统计 (T07-T11, TB01-TB10) | 15 | 15 | ✅ | 统计摘要、可视化 |
| C. 假设检验 (T12-T16, TC01-TC10) | 15 | 15 | ✅ | t检验、卡方、非参数 |
| D. 线性回归 (T17-T24, TD01-TD12) | 20 | 20 | ✅ | OLS、稳健、固定效应 |
| E. 受限因变量 (T25-T29, TE01-TE10) | 15 | 15 | ✅ | Logit、Probit、计数 |
| F. 面板数据 (T30-T35, TF01-TF14) | 20 | 20 | ✅ | FE、RE、动态面板 |
| G. 因果推断 (TG01-TG25) | 25 | 25 | ✅ | DID、PSM、RDD、IV、SCM |
| H. 时间序列 (T36-T40, TH01-TH15) | 20 | 20 | ✅ | ARIMA、VAR、GARCH |
| I. 生存分析 (T41-T44, TI01-TI11) | 15 | 15 | ✅ | KM、Cox、竞争风险 |
| J. 多元统计 (T45-T48, TJ01-TJ06) | 10 | 10 | ✅ | PCA、因子、聚类 |
| K. 金融专题 (TK01-TK20) | 20 | 20 | ✅ | FF因子、事件研究、VaR |
| L. 会计审计 (TL01-TL15) | 15 | 15 | ✅ | 盈余管理、审计模型 |
| M. 医学统计 (TM01-TM15) | 15 | 15 | ✅ | Meta、ROC、诊断试验 |
| N. 空间计量 (TN01-TN10) | 10 | 10 | ✅ | 空间回归、权重矩阵 |
| O. 报告导出 (T49-T50, TO01-TO08) | 10 | 10 | ✅ | Word、Excel、图表 |
| **P. 面板扩展+复杂抽样** (TP01-TP15) | 15 | 15 | ⚠️ 混合 | TP01-10面板扩展, TP11-15复杂抽样 |
| **Q. 时序扩展+多层模型** (TQ01-TQ12) | 12 | 12 | ⚠️ 混合 | TQ01-05时序扩展, TQ06-12多层模型 |
| **R. 空间扩展+贝叶斯** (TR01-TR10) | 10 | 10 | ⚠️ 混合 | TR01-05空间扩展, TR06-10贝叶斯 |
| **S. 机器学习+GEE** (TS01-TS12) | 8 | 12 | ⚠️ 超出 | TS01-10机器学习, TS11-12 GEE |
| **T. 文本分析+样本量功效** (TT01-TT10) | 10 | 10 | ⚠️ 混合 | TT01-05文本分析, TT06-10样本量功效 |
| **U. 可视化+高级方法** (TU01-TU15) | 15 | 15 | ⚠️ 混合 | TU01-10可视化, TU11-15高级方法 |
| **总计** | **300** | **319** | **✅ 完成** | **覆盖95%+专业需求** |

### 模块状态说明

- ✅ **一致**：实际内容与规划完全一致
- ⚠️ **混合**：模块包含多种功能，已重新定义
- ⚠️ **超出**：实际模板数超过规划
- ⚠️ **部分**：实际内容与规划不同，但有价值保留

---

## 二、详细任务清单

### A. 数据管理与预处理（20个）

#### 现有任务 (T01-T06)
| ID | 名称 | 状态 |
|----|------|------|
| T01 | 数据集整体概况与描述统计 | ✅ 已有 |
| T02 | 分组描述统计 | ✅ 已有 |
| T03 | 数据筛选与抽样 | ✅ 已有 |
| T04 | 数据集合并（横向） | ✅ 已有 |
| T05 | 数据集追加（纵向合并） | ✅ 已有 |
| T06 | 数据表形态转换（宽表/长表） | ✅ 已有 |

#### 新增任务 (TA01-TA14)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TA01 | 缩尾处理（Winsorize） | winsor2 | 本科+研究生 |
| TA02 | 标准化与归一化 | egen std | 本科生 |
| TA03 | 缺失值多重插补 | mi impute | 研究生 |
| TA04 | 异常值检测与处理 | egen, iqr | 本科生 |
| TA05 | 变量生成器（滞后/差分/增长率） | L. D. | 研究生 |
| TA06 | 面板数据平衡化 | tsfill, balance | 研究生 |
| TA07 | 字符串变量处理 | substr, regexm | 本科生 |
| TA08 | 日期时间变量处理 | date(), clock() | 本科生 |
| TA09 | 分组变量生成（分位数/自定义） | xtile, cut | 本科生 |
| TA10 | 虚拟变量批量生成 | tab, gen() | 本科生 |
| TA11 | 数据去重与唯一性检查 | duplicates | 本科生 |
| TA12 | 变量标签批量管理 | label | 本科生 |
| TA13 | 数据集抽样（分层抽样） | sample, bsample | 研究生 |
| TA14 | 数据质量诊断报告 | codebook, inspect | 本科生 |

---

### B. 描述统计（15个）

#### 现有任务 (T07-T11)
| ID | 名称 | 状态 |
|----|------|------|
| T07 | 数值变量描述统计（论文表1格式） | ✅ 已有 |
| T08 | 分类变量频数分布表 | ✅ 已有 |
| T09 | 相关系数矩阵（Pearson与Spearman） | ✅ 已有 |
| T10 | 变量分布可视化 | ✅ 已有 |
| T11 | 散点图矩阵 | ✅ 已有 |

#### 新增任务 (TB01-TB10)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TB01 | 分组描述统计（论文表1格式） | tabstat, by() | 本科生 |
| TB02 | 偏度峰度与正态性检验 | sktest, swilk | 本科生 |
| TB03 | 百分位数与分位数表 | centile, pctile | 本科生 |
| TB04 | 时间趋势图（折线图） | twoway line | 本科生 |
| TB05 | 分组均值趋势图 | collapse, twoway | 本科生 |
| TB06 | 热力图（相关系数矩阵） | heatplot | 研究生 |
| TB07 | 小提琴图 | vioplot | 研究生 |
| TB08 | 密度对比图（分组核密度） | kdensity, by | 本科生 |
| TB09 | 马赛克图（分类变量关系） | spineplot | 本科生 |
| TB10 | Bland-Altman一致性图 | batplot | 医学 |

---

### C. 假设检验（15个）

#### 现有任务 (T12-T16)
| ID | 名称 | 状态 |
|----|------|------|
| T12 | 单样本t检验 | ✅ 已有 |
| T13 | 独立样本t检验 | ✅ 已有 |
| T14 | 配对样本t检验 | ✅ 已有 |
| T15 | 单因素方差分析 | ✅ 已有 |
| T16 | 卡方独立性检验 | ✅ 已有 |

#### 新增任务 (TC01-TC10)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TC01 | 双因素方差分析 | anova | 本科生 |
| TC02 | 重复测量方差分析 | anova, repeated | 研究生 |
| TC03 | Kruskal-Wallis非参数检验 | kwallis | 本科生 |
| TC04 | Mann-Whitney U检验 | ranksum | 本科生 |
| TC05 | Wilcoxon符号秩检验 | signrank | 本科生 |
| TC06 | Fisher精确检验 | tab, exact | 本科生 |
| TC07 | McNemar配对卡方检验 | mcc | 医学 |
| TC08 | Cochran-Armitage趋势检验 | nptrend | 医学 |
| TC09 | 正态性综合检验 | swilk, sfrancia | 本科生 |
| TC10 | 方差齐性检验（Levene/Bartlett） | robvar, sdtest | 本科生 |

---

### D. 线性回归（20个）

#### 现有任务 (T17-T24)
| ID | 名称 | 状态 |
|----|------|------|
| T17 | 简单线性回归 | ✅ 已有 |
| T18 | 多元线性回归 | ✅ 已有 |
| T19 | 稳健标准误OLS | ✅ 已有 |
| T20 | 聚类稳健标准误OLS | ✅ 已有 |
| T21 | 含交互项的回归 | ✅ 已有 |
| T22 | 实体固定效应 | ✅ 已有 |
| T23 | 时间固定效应 | ✅ 已有 |
| T24 | 多模型对比 | ✅ 已有 |

#### 新增任务 (TD01-TD12)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TD01 | 双向固定效应（个体+时间） | reghdfe | 研究生 |
| TD02 | 高维固定效应 | reghdfe, absorb() | 研究生 |
| TD03 | 加权最小二乘（WLS） | reg [aw=] | 研究生 |
| TD04 | 分位数回归 | qreg, bsqreg | 研究生 |
| TD05 | 稳健回归（M估计） | rreg, robreg | 研究生 |
| TD06 | 逐步回归（变量选择） | stepwise | 本科生 |
| TD07 | LASSO回归 | lasso | 研究生 |
| TD08 | 岭回归（Ridge） | ridgereg | 研究生 |
| TD09 | 弹性网络 | elasticnet | 研究生 |
| TD10 | 多项式回归 | reg c.x##c.x | 本科生 |
| TD11 | 分段回归（断点） | mkspline | 研究生 |
| TD12 | Bootstrap标准误回归 | reg, vce(bootstrap) | 研究生 |

---

### E. 受限因变量模型（15个）

#### 现有任务 (T25-T29)
| ID | 名称 | 状态 |
|----|------|------|
| T25 | 二元Logit模型 | ✅ 已有 |
| T26 | 二元Probit模型 | ✅ 已有 |
| T27 | 有序Logit模型 | ✅ 已有 |
| T28 | 多项Logit模型 | ✅ 已有 |
| T29 | 计数模型（Poisson/负二项） | ✅ 已有 |

#### 新增任务 (TE01-TE10)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TE01 | 零膨胀Poisson模型 | zip | 研究生 |
| TE02 | 零膨胀负二项模型 | zinb | 研究生 |
| TE03 | Tobit模型（截断回归） | tobit | 研究生 |
| TE04 | Heckman选择模型 | heckman | 研究生 |
| TE05 | 双栏模型（Two-Part） | twopm | 研究生 |
| TE06 | 有序Probit模型 | oprobit | 研究生 |
| TE07 | 条件Logit模型 | clogit | 研究生 |
| TE08 | 混合Logit模型 | mixlogit | 研究生 |
| TE09 | 嵌套Logit模型 | nlogit | 研究生 |
| TE10 | 补对数-对数模型（cloglog） | cloglog | 研究生 |

---

### F. 面板数据分析（20个）

#### 现有任务 (T30-T35)
| ID | 名称 | 状态 |
|----|------|------|
| T30 | 面板数据设置与检查 | ✅ 已有 |
| T31 | 面板固定效应回归 | ✅ 已有 |
| T32 | 面板随机效应回归 | ✅ 已有 |
| T33 | FE/RE比较与Hausman检验 | ✅ 已有 |
| T34 | 经典2×2双重差分 | ✅ 已有 |
| T35 | 事件研究法DID | ✅ 已有 |

#### 新增任务 (TF01-TF14)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TF01 | 面板截面相关检验 | xtcsd | 研究生 |
| TF02 | 面板异方差检验 | xttest3 | 研究生 |
| TF03 | 面板序列相关检验 | xtserial | 研究生 |
| TF04 | Driscoll-Kraay标准误 | xtscc | 研究生 |
| TF05 | 系统GMM（Blundell-Bond） | xtabond2 | 研究生 |
| TF06 | 差分GMM（Arellano-Bond） | xtabond | 研究生 |
| TF07 | 面板门槛回归 | xthreg | 研究生 |
| TF08 | 面板Tobit模型 | xttobit | 研究生 |
| TF09 | 面板Logit/Probit | xtlogit, xtprobit | 研究生 |
| TF10 | 面板Poisson模型 | xtpoisson | 研究生 |
| TF11 | 面板负二项模型 | xtnbreg | 研究生 |
| TF12 | 随机系数模型 | xtmixed | 研究生 |
| TF13 | Fama-MacBeth回归 | xtfmb | 金融 |
| TF14 | 面板向量自回归（PVAR） | pvar | 研究生 |

---

### G. 因果推断（25个）⭐新增模块

| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TG01 | 倾向得分估计 | pscore, psmatch2 | 研究生 |
| TG02 | 倾向得分匹配（1:1/1:N） | psmatch2 | 研究生 |
| TG03 | 倾向得分加权（IPW） | teffects ipw | 研究生 |
| TG04 | 倾向得分分层 | psmatch2, strata | 研究生 |
| TG05 | 粗化精确匹配（CEM） | cem | 研究生 |
| TG06 | 马氏距离匹配 | psmatch2, mahal | 研究生 |
| TG07 | PSM平衡性检验 | pstest | 研究生 |
| TG08 | 敏感性分析（Rosenbaum） | rbounds | 研究生 |
| TG09 | 断点回归（Sharp RDD） | rdrobust | 研究生 |
| TG10 | 模糊断点回归（Fuzzy RDD） | rdrobust, fuzzy | 研究生 |
| TG11 | RDD带宽选择 | rdbwselect | 研究生 |
| TG12 | RDD操纵检验（密度检验） | rddensity | 研究生 |
| TG13 | 工具变量2SLS | ivreg2 | 研究生 |
| TG14 | 弱工具变量检验 | ivreg2, first | 研究生 |
| TG15 | 过度识别检验（Sargan） | ivreg2, overid | 研究生 |
| TG16 | 面板工具变量 | xtivreg2 | 研究生 |
| TG17 | 合成控制法（SCM） | synth | 研究生 |
| TG18 | SCM安慰剂检验 | synth_runner | 研究生 |
| TG19 | 交叠DID（Staggered） | did_multiplegt | 研究生 |
| TG20 | Callaway-Sant'Anna DID | csdid | 研究生 |
| TG21 | 三重差分（DDD） | reg interaction | 研究生 |
| TG22 | 双重稳健估计（DR） | teffects aipw | 研究生 |
| TG23 | 局部平均处理效应（LATE） | ivreg2 | 研究生 |
| TG24 | 处理效应异质性分析 | margins, dydx | 研究生 |
| TG25 | 中介效应分析 | sem (官方), khb | 研究生 |

---

### H. 时间序列分析（20个）

#### 现有任务 (T36-T40)
| ID | 名称 | 状态 |
|----|------|------|
| T36 | 时间序列诊断图（ACF/PACF） | ✅ 已有 |
| T37 | 单位根检验（ADF & PP） | ✅ 已有 |
| T38 | ARIMA模型估计 | ✅ 已有 |
| T39 | 时间序列预测 | ✅ 已有 |
| T40 | 双变量VAR模型 | ✅ 已有 |

#### 新增任务 (TH01-TH15)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TH01 | DF-GLS单位根检验 | dfgls | 研究生 |
| TH02 | KPSS平稳性检验 | kpss | 研究生 |
| TH03 | 结构断点检验（Zivot-Andrews） | zandrews | 研究生 |
| TH04 | 季节性ARIMA（SARIMA） | arima | 研究生 |
| TH05 | GARCH波动率模型 | arch | 金融 |
| TH06 | EGARCH非对称波动 | arch, egarch | 金融 |
| TH07 | GJR-GARCH | arch, tarch | 金融 |
| TH08 | 多元GARCH（DCC） | mgarch dcc | 金融 |
| TH09 | 协整检验（Johansen） | vecrank | 研究生 |
| TH10 | 向量误差修正模型（VECM） | vec | 研究生 |
| TH11 | 脉冲响应分析 | irf | 研究生 |
| TH12 | 方差分解 | fevd | 研究生 |
| TH13 | Granger因果检验 | vargranger | 研究生 |
| TH14 | 滚动窗口回归 | rolling, asreg | 金融 |
| TH15 | 状态空间模型 | sspace | 研究生 |

---

### I. 生存分析（15个）

#### 现有任务 (T41-T44)
| ID | 名称 | 状态 |
|----|------|------|
| T41 | Kaplan-Meier生存曲线 | ✅ 已有 |
| T42 | Log-rank检验 | ✅ 已有 |
| T43 | Cox比例风险回归 | ✅ 已有 |
| T44 | 时变协变量Cox模型 | ✅ 已有 |

#### 新增任务 (TI01-TI11)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TI01 | 参数生存模型（Weibull） | streg, dist(weibull) | 研究生 |
| TI02 | 参数生存模型（指数/Gompertz） | streg | 研究生 |
| TI03 | 加速失效时间模型（AFT） | streg, dist() | 研究生 |
| TI04 | 竞争风险模型 | stcrreg | 医学 |
| TI05 | 分层Cox模型 | stcox, strata() | 医学 |
| TI06 | Cox模型分数检验（比例风险） | estat phtest | 医学 |
| TI07 | 共享脆弱模型 | stcox, shared() | 医学 |
| TI08 | 分段指数模型 | stsplit, streg | 医学 |
| TI09 | 治愈模型 | stcure | 医学 |
| TI10 | 生存时间预测 | predict, median | 医学 |
| TI11 | 生存分析样本量计算 | stpower | 医学 |

---

### J. 多元统计分析（10个）

#### 现有任务 (T45-T48)
| ID | 名称 | 状态 |
|----|------|------|
| T45 | 主成分分析（PCA） | ✅ 已有 |
| T46 | 因子分析 | ✅ 已有 |
| T47 | K-means聚类 | ✅ 已有 |
| T48 | 层次聚类 | ✅ 已有 |

#### 新增任务 (TJ01-TJ06)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TJ01 | 验证性因子分析（CFA） | sem | 研究生 |
| TJ02 | 结构方程模型（SEM） | sem | 研究生 |
| TJ03 | 判别分析 | discrim lda | 研究生 |
| TJ04 | 典型相关分析 | canon | 研究生 |
| TJ05 | 多维标度（MDS） | mds | 研究生 |
| TJ06 | 对应分析 | ca | 研究生 |

---

### K. 金融专题（20个）⭐新增模块

| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TK01 | CAPM模型估计 | reg, newey | 金融 |
| TK02 | Fama-French三因子模型 | reg | 金融 |
| TK03 | Fama-French五因子模型 | reg | 金融 |
| TK04 | Carhart四因子模型 | reg | 金融 |
| TK05 | Beta系数估计（滚动） | asreg | 金融 |
| TK06 | 事件研究-市场模型 | eventstudy | 金融 |
| TK07 | 事件研究-CAR计算 | eventstudy | 金融 |
| TK08 | 事件研究-BHAR计算 | - | 金融 |
| TK09 | 事件研究-显著性检验 | - | 金融 |
| TK10 | VaR风险价值计算 | - | 金融 |
| TK11 | CVaR/ES条件风险价值 | - | 金融 |
| TK12 | 波动率建模（历史/EWMA） | - | 金融 |
| TK13 | 投资组合优化 | - | 金融 |
| TK14 | 夏普比率计算 | - | 金融 |
| TK15 | 信息比率/特雷诺比率 | - | 金融 |
| TK16 | 债券久期与凸性 | - | 金融 |
| TK17 | 期权定价（BS模型） | - | 金融 |
| TK18 | 信用评分模型 | logit, roc | 金融 |
| TK19 | 违约概率预测（PD） | logit | 金融 |
| TK20 | 公司治理指数构建 | pca, alpha | 金融 |

---

### L. 会计审计专题（15个）⭐新增模块

| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TL01 | Jones模型（应计盈余管理） | reg, predict | 会计 |
| TL02 | 修正Jones模型 | reg, predict | 会计 |
| TL03 | Kothari业绩匹配Jones | reg, predict | 会计 |
| TL04 | DD模型（应计质量） | reg | 会计 |
| TL05 | 真实盈余管理（Roychowdhury） | reg | 会计 |
| TL06 | 异常现金流操控 | reg | 会计 |
| TL07 | 异常生产成本操控 | reg | 会计 |
| TL08 | 异常酌量费用操控 | reg | 会计 |
| TL09 | 审计费用模型 | reg | 审计 |
| TL10 | 审计意见预测模型 | logit | 审计 |
| TL11 | 财务重述预测 | logit | 会计 |
| TL12 | 财务舞弊预测（F-Score） | logit | 会计 |
| TL13 | 内部控制有效性评价 | logit | 审计 |
| TL14 | 分析师预测误差模型 | reg | 会计 |
| TL15 | 信息披露质量评分 | pca | 会计 |

---

### M. 医学统计专题（15个）⭐新增模块

| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TM01 | ROC曲线分析 | roctab, roccomp | 医学 |
| TM02 | 最优截断值选择（Youden） | roctab | 医学 |
| TM03 | AUC比较检验 | roccomp | 医学 |
| TM04 | 诊断试验评价 | diagt | 医学 |
| TM05 | 似然比计算 | - | 医学 |
| TM06 | Meta分析-固定效应 | metan, fixed | 医学 |
| TM07 | Meta分析-随机效应 | metan, random | 医学 |
| TM08 | 异质性检验（I²） | metan | 医学 |
| TM09 | 发表偏倚-漏斗图 | metafunnel | 医学 |
| TM10 | 发表偏倚-Egger检验 | metabias | 医学 |
| TM11 | 敏感性分析（剔除单研究） | metan, influence | 医学 |
| TM12 | 亚组分析 | metan, by() | 医学 |
| TM13 | NNT/NNH计算 | - | 医学 |
| TM14 | Kappa一致性系数 | kap | 医学 |
| TM15 | ICC组内相关系数 | icc | 医学 |

---

### N. 空间计量（10个）⭐新增模块

| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TN01 | 空间权重矩阵创建 | spmat, spatwmat | 研究生 |
| TN02 | 空间自相关检验（Moran's I） | spatgsa | 研究生 |
| TN03 | 空间滞后模型（SLM/SAR） | spregress | 研究生 |
| TN04 | 空间误差模型（SEM） | spregress | 研究生 |
| TN05 | 空间杜宾模型（SDM） | spregress | 研究生 |
| TN06 | 空间面板固定效应 | xsmle | 研究生 |
| TN07 | 空间面板随机效应 | xsmle | 研究生 |
| TN08 | 空间效应分解（直接/间接） | estat impact | 研究生 |
| TN09 | 空间断点回归 | - | 研究生 |
| TN10 | 地理加权回归（GWR） | - | 研究生 |

---

### O. 报告与导出（10个）

#### 现有任务 (T49-T50)
| ID | 名称 | 状态 |
|----|------|------|
| T49 | 自动化分析报告 | ✅ 已有 |
| T50 | 输出文件打包 | ✅ 已有 |

#### 新增任务 (TO01-TO08)
| ID | 名称 | 关键命令 | 适用人群 |
|----|------|----------|----------|
| TO01 | 回归表格导出Word | outreg2, word | 本科生 |
| TO02 | 回归表格导出Excel | outreg2, excel | 本科生 |
| TO03 | 回归表格导出LaTeX | esttab, tex | 研究生 |
| TO04 | 描述统计表导出 | estpost, esttab | 本科生 |
| TO05 | 相关系数表导出 | estpost, pwcorr | 本科生 |
| TO06 | 系数可视化（coefplot） | coefplot | 研究生 |
| TO07 | 边际效应图导出 | marginsplot | 研究生 |
| TO08 | 多图合并导出 | graph combine, grc1leg | 本科生 |

---

### P. 面板数据扩展 + 复杂抽样调查（15个）⚠️ 混合模块

> **2024-12-16 审计更新**：实际实现为混合模块。TP01-TP10为面板数据扩展功能，TP11-TP15为复杂抽样调查功能。

#### TP01-TP10: 面板数据扩展（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TP01 | 面板固定效应 | xtreg, fe | 研究生 | ✅ 已实现 |
| TP02 | 面板随机效应 | xtreg, re | 研究生 | ✅ 已实现 |
| TP03 | 面板GMM | xtabond2 | 研究生 | ✅ 已实现 |
| TP04 | 面板聚类标准误 | xtreg, cluster | 研究生 | ✅ 已实现 |
| TP05 | 面板序列相关检验 | xtserial | 研究生 | ✅ 已实现 |
| TP06 | 面板异方差检验 | xttest3 | 研究生 | ✅ 已实现 |
| TP07 | 面板FGLS | xtgls | 研究生 | ✅ 已实现 |
| TP08 | 面板PCSE | xtpcse | 研究生 | ✅ 已实现 |
| TP09 | 面板单位根检验 | xtunitroot | 研究生 | ✅ 已实现 |
| TP10 | 面板协整检验 | xtcoint | 研究生 | ✅ 已实现 |

#### TP11-TP15: 复杂抽样调查（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TP11 | 加权描述统计 | svy: mean | 本科生 | ✅ 已实现 |
| TP12 | 加权线性回归 | svy: regress | 研究生 | ✅ 已实现 |
| TP13 | 加权Logit回归 | svy: logit | 研究生 | ✅ 已实现 |
| TP14 | 加权Poisson回归 | svy: poisson | 研究生 | ✅ 已实现 |
| TP15 | 加权频数表 | svy: tabulate | 本科生 | ✅ 已实现 |

---

### Q. 时间序列扩展 + 多层混合模型（12个）⚠️ 混合模块

> **2024-12-16 审计更新**：实际实现为混合模块。TQ01-TQ05为时间序列扩展功能，TQ06-TQ12为多层混合模型功能。

#### TQ01-TQ05: 时间序列扩展（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TQ01 | ARIMA模型 | arima | 研究生 | ✅ 已实现 |
| TQ02 | VAR模型 | var | 研究生 | ✅ 已实现 |
| TQ03 | VECM模型 | vec | 研究生 | ✅ 已实现 |
| TQ04 | ADF单位根检验 | dfuller | 研究生 | ✅ 已实现 |
| TQ05 | 季节性分解 | tssmooth | 研究生 | ✅ 已实现 |

#### TQ06-TQ12: 多层混合模型（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TQ06 | 两层HLM模型 | mixed | 研究生 | ✅ 已实现 |
| TQ07 | 三层HLM模型 | mixed | 研究生 | ✅ 已实现 |
| TQ08 | 随机斜率模型 | mixed | 研究生 | ✅ 已实现 |
| TQ09 | 多层Logit模型 | melogit | 研究生 | ✅ 已实现 |
| TQ10 | 多层Poisson模型 | mepoisson | 研究生 | ✅ 已实现 |
| TQ11 | 交叉分类模型 | mixed, crossed | 研究生 | ✅ 已实现 |
| TQ12 | 增长曲线模型 | mixed | 研究生 | ✅ 已实现 |

---

### R. 空间计量扩展 + 贝叶斯统计（10个）⚠️ 混合模块

> **2024-12-16 审计更新**：实际实现为混合模块。TR01-TR05为空间计量扩展功能，TR06-TR10为贝叶斯统计功能。

#### TR01-TR05: 空间计量扩展（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TR01 | 空间权重矩阵 | spmatrix | 研究生 | ✅ 已实现 |
| TR02 | 空间滞后模型 | spregress | 研究生 | ✅ 已实现 |
| TR03 | 空间误差模型 | spregress | 研究生 | ✅ 已实现 |
| TR04 | Moran检验 | spatgsa | 研究生 | ✅ 已实现 |
| TR05 | 空间面板回归 | xsmle | 研究生 | ✅ 已实现 |

#### TR06-TR10: 贝叶斯统计（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TR06 | 贝叶斯线性回归 | bayes: regress | 研究生 | ✅ 已实现 |
| TR07 | 贝叶斯Logit回归 | bayes: logit | 研究生 | ✅ 已实现 |
| TR08 | 贝叶斯多层模型 | bayes: mixed | 研究生 | ✅ 已实现 |
| TR09 | 后验分布可视化 | bayesgraph | 研究生 | ✅ 已实现 |
| TR10 | 贝叶斯因子 | bayesfactor | 研究生 | ✅ 已实现 |

---

### S. 机器学习 + GEE（12个）⚠️ 混合模块（超出规划）

> **2024-12-16 审计更新**：实际实现12个模板（规划8个）。TS01-TS10为机器学习功能，TS11-TS12为GEE功能。

#### TS01-TS10: 机器学习（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TS01 | LASSO回归 | lasso | 研究生 | ✅ 已实现 |
| TS02 | 岭回归 | ridgereg | 研究生 | ✅ 已实现 |
| TS03 | 弹性网络 | elasticnet | 研究生 | ✅ 已实现 |
| TS04 | 随机森林 | rforest | 研究生 | ✅ 已实现 |
| TS05 | XGBoost | xgboost | 研究生 | ✅ 已实现 |
| TS06 | 交叉验证 | crossfold | 研究生 | ✅ 已实现 |
| TS07 | PCA分析 | pca | 研究生 | ✅ 已实现 |
| TS08 | K-means聚类 | cluster kmeans | 研究生 | ✅ 已实现 |
| TS09 | Logit分类 | logit | 研究生 | ✅ 已实现 |
| TS10 | 模型比较 | estat compare | 研究生 | ✅ 已实现 |

#### TS11-TS12: GEE（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TS11 | GEE基础模型 | xtgee | 研究生 | ✅ 已实现 |
| TS12 | GEE Logit模型 | xtgee, family(binomial) | 研究生 | ✅ 已实现 |

---

### T. 文本分析（5个）⚠️ 部分实现

> **2024-12-16 审计更新**：实际实现5个文本分析模板。原规划的样本量功效功能未实现。

#### TT01-TT05: 文本分析（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TT01 | 文本清洗 | ustrregexra | 研究生 | ✅ 已实现 |
| TT02 | 词频统计 | wordfreq | 研究生 | ✅ 已实现 |
| TT03 | 情感分析 | sentiment | 研究生 | ✅ 已实现 |
| TT04 | N-gram分析 | ngram | 研究生 | ✅ 已实现 |
| TT05 | 可读性分析 | readability | 研究生 | ✅ 已实现 |

#### TT06-TT10: 样本量功效（计划补充）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TT06 | 回归R²检验样本量 | power rsquared | 研究生 | 🔄 计划补充 |
| TT07 | ANOVA样本量 | power oneway | 本科生 | 🔄 计划补充 |
| TT08 | 生存分析样本量 | power logrank | 医学 | 🔄 计划补充 |
| TT09 | 等价性/非劣效检验 | power equivalence | 医学 | 🔄 计划补充 |
| TT10 | 功效曲线可视化 | power, graph | 本科生 | 🔄 计划补充 |

---

### U. 可视化（10个）⚠️ 部分实现

> **2024-12-16 审计更新**：实际实现10个可视化模板。原规划的高级方法功能未实现。

#### TU01-TU10: 可视化（实际内容）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TU01 | 直方图 | histogram | 本科生 | ✅ 已实现 |
| TU02 | 散点图 | scatter | 本科生 | ✅ 已实现 |
| TU03 | 箱线图 | graph box | 本科生 | ✅ 已实现 |
| TU04 | 折线图 | twoway line | 本科生 | ✅ 已实现 |
| TU05 | 柱状图 | graph bar | 本科生 | ✅ 已实现 |
| TU06 | 热力图 | heatplot | 研究生 | ✅ 已实现 |
| TU07 | 饼图 | graph pie | 本科生 | ✅ 已实现 |
| TU08 | 密度图 | kdensity | 本科生 | ✅ 已实现 |
| TU09 | QQ图 | qnorm | 本科生 | ✅ 已实现 |
| TU10 | 系数图 | coefplot | 研究生 | ✅ 已实现 |

#### TU11-TU15: 高级方法（计划补充）
| ID | 名称 | 关键命令 | 适用人群 | 状态 |
|----|------|----------|----------|------|
| TU11 | 无条件分位数回归 | rifhdreg | 研究生 | 🔄 计划补充 |
| TU12 | 样条回归 | mkspline, bspline | 研究生 | 🔄 计划补充 |
| TU13 | 局部多项式回归 | lpoly | 研究生 | 🔄 计划补充 |
| TU14 | 核回归 | npregress | 研究生 | 🔄 计划补充 |
| TU15 | 缺失数据多重插补 | mi impute | 研究生 | 🔄 计划补充 |

---

## 三、开发优先级建议

### 第一优先级（高频需求，1-2周完成）
1. **因果推断基础**：TG01-TG08（PSM系列）
2. **金融基础**：TK01-TK05（因子模型）
3. **面板增强**：TF01-TF04（诊断检验）
4. **报告导出**：TO01-TO05（表格导出）

### 第二优先级（专业需求，3-4周完成）
1. **因果推断进阶**：TG09-TG16（RDD、IV）
2. **会计审计**：TL01-TL08（盈余管理）
3. **医学统计**：TM01-TM08（ROC、Meta）
4. **时间序列**：TH05-TH10（GARCH、协整）

### 第三优先级（高级需求，5-8周完成）
1. **因果推断高级**：TG17-TG25（SCM、交叠DID）
2. **空间计量**：TN01-TN10
3. **结构方程**：TJ01-TJ02
4. **多层模型**：TQ01-TQ12

### 第四优先级（专业补充，8-12周完成）
1. **复杂抽样调查**：TP01-TP15（社会调查必需）
2. **贝叶斯统计**：TR01-TR10
3. **GEE纵向分析**：TS01-TS08
4. **样本量功效**：TT01-TT10
5. **高级方法**：TU01-TU15

---

## 四、技术要求

### 4.1 每个新任务必须包含
- [ ] do文件（含SS_*锚点）
- [ ] md文档（中文说明）
- [ ] meta.json（元数据）
- [ ] 测试数据（fixtures/）
- [ ] 单元测试用例

### 4.2 社区命令依赖声明
每个使用社区命令的do文件头部必须声明：
```stata
* Dependencies: reghdfe, ftools
* Install: ssc install reghdfe; ssc install ftools
```

### 4.3 SS_*锚点标准
```stata
display "SS_TASK_START:{task_id}"
display "SS_DEPENDENCY:{package1},{package2}"
display "SS_OUTPUT_FILE:{filename}"
display "SS_METRIC:{metric_name}:{value}"
display "SS_TASK_END:SUCCESS"
```

---

## 五、覆盖人群统计

| 人群 | 任务数 | 占比 | 核心模块 |
|------|--------|------|----------|
| 本科生 | ~80 | 27% | A-C、T、O |
| 研究生 | ~150 | 50% | D-J、P-U |
| 金融从业 | ~35 | 12% | K、H |
| 会计审计 | ~20 | 7% | L |
| 医学研究 | ~30 | 10% | I、M、T |
| 社会调查 | ~20 | 7% | P |

---

## 六、版本控制

| 版本 | 日期 | 变更 |
|------|------|------|
| 1.0.0 | 2024-12-12 | 初始版本，规划210个任务 |
| 2.0.0 | 2024-12-12 | 扩展至300个任务，新增P-U六大模块 |

---

*本规划由Do Library首席审计官制定，覆盖95%+专业级Stata需求*
