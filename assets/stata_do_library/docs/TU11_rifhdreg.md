# TU11_rifhdreg — 无条件分位数回归

## 任务元信息

| 属性 | 值 |
|------|-----|
| **Task ID** | TU11_rifhdreg |
| **任务名称** | 无条件分位数回归 |
| **任务族** | U - 高级方法 |
| **难度级别** | advanced |
| **数据结构** | 面板/截面数据 |

## 任务摘要

使用再中心化影响函数（RIF）方法进行无条件分位数回归分析。与传统条件分位数回归不同，RIF回归估计的是协变量对无条件分位数的边际效应，适用于分析收入分布、工资差距等问题。

## 适用场景

### 场景 1：收入不平等研究
- 分析教育对收入分布不同分位数的影响
- 研究性别工资差距在不同收入水平的变化

### 场景 2：分解分析
- Oaxaca-Blinder分解的分位数扩展
- 分析分布变化的来源

## 输入与占位符说明

| 占位符 | 含义 | 类型 | 必填 | 默认值 |
|--------|------|------|------|--------|
| `__DEPVAR__` | 因变量 | 变量名 | ✓ 是 | - |
| `__INDEPVARS__` | 自变量列表 | 变量列表 | ✓ 是 | - |
| `__QUANTILE__` | 分位数 | 数值(0-1) | 否 | 0.5 |

## 输出文件清单

| 文件名 | 类型 | 说明 |
|--------|------|------|
| `table_TU11_rifhdreg.csv` | 表格 | RIF回归结果 |
| `data_TU11_rifhdreg.dta` | 数据 | 输出数据 |
| `result.log` | 日志 | 执行日志 |

## 技术说明

- **Stata 版本**：18.0+
- **关键命令**：`_pctile`（分位数）、`kdensity`（密度估计）、`regress`（对 RIF 的 OLS 回归）
- **外部依赖**：无（内置实现，不依赖 SSC）
- **实现要点**：构造 `RIF(y;q_τ)=q_τ+(τ-I(y≤q_τ))/f(q_τ)`，其中 `f(q_τ)` 通过 `kdensity` 网格估计并取最近点近似
